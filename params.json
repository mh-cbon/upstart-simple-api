{
  "name": "Upstart-simple-api",
  "tagline": "Simple api for node to manage services via upstart",
  "body": "# upstart-simple-api\r\n\r\nSimple and limited api to interface with upstart.\r\n\r\n# install\r\n\r\n```sh\r\nnpm i @mh-cbon/upstart-simple-api --save\r\n```\r\n\r\n# usage\r\n\r\nBeware,\r\n\r\n- user jobs are not well tested because they cannot be initialized easily with a vagrant ubuntu box.\r\n- `describe` method is quiet limited in regard of upstart script language, it is intended.\r\n\r\n\r\n```js\r\nvar UpstartSimpleApi = require('@mh-cbon/upstart-simple-api');\r\nvar usapi = new UpstartSimpleApi(/* version */);\r\n\r\n// initctl list\r\nusapi.list(opts={}, function (err, items) {\r\n  console.log(items);\r\n})\r\n\r\n// initctl show-config serviceId\r\nsds.describe('serviceId', opts={}, function (err, info) {\r\n  console.log(info);\r\n})\r\n\r\n// initctl start serviceId\r\nsds.start('serviceId', opts={}, function (err) {\r\n  console.log(err);\r\n})\r\n\r\n// initctl stop serviceId\r\nsds.stop('serviceId', opts={}, function (err) {\r\n  console.log(err);\r\n})\r\n\r\n// initctl reload serviceId\r\nsds.reload('serviceId', function (err) {\r\n  console.log(err);\r\n})\r\n\r\n// initctl reload-configuration serviceId\r\nsds.reloadConfiguration('serviceId', function (err) {\r\n  console.log(err);\r\n})\r\n```\r\n\r\n## Install a Service\r\n\r\n```js\r\n// per user\r\nvar service = {\r\n  user: true,\r\n  id: 'fake',\r\n  stanzas: [\r\n    {\r\n      name: 'author',\r\n      value: 'whatever'\r\n    },\r\n    {\r\n      name: 'exec',\r\n      value: '/bin/sh ...'\r\n    }\r\n  ]\r\n}\r\nusapi.install(service, done)\r\n\r\n// system wide\r\nvar service = {\r\n  user: !true,\r\n  id: 'fake',\r\n  stanzas: [\r\n    {\r\n      name: 'author',\r\n      value: 'whatever'\r\n    },\r\n    {\r\n      name: 'exec',\r\n      value: '/bin/sh ...'\r\n    }\r\n  ]\r\n}\r\nusapi.install(service, done)\r\n\r\n\r\n// later...\r\nusapi.uninstall(service, done)\r\n```\r\n\r\n\r\n# read more\r\n\r\n- http://askubuntu.com/questions/637305/how-do-i-control-an-upstart-session-job-over-ssh\r\n- http://upstart.ubuntu.com/cookbook/#joining-a-session\r\n- http://upstart.ubuntu.com/cookbook/#session-init\r\n- http://upstart.ubuntu.com/wiki/Stanzas\r\n- http://dev.deluge-torrent.org/wiki/UserGuide/Service/Upstart\r\n- http://minecraft.gamepedia.com/Tutorials/Ubuntu_startup_script\r\n- https://www.nginx.com/resources/wiki/start/topics/examples/ubuntuupstart/#\r\n- https://www.exratione.com/2013/02/nodejs-and-forever-as-a-service-simple-upstart-and-init-scripts-for-ubuntu/\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}